<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0) on Wed Jul 17 23:51:42 ACT 2013 -->
<TITLE>
DriveSyncer
</TITLE>

<META NAME="date" CONTENT="2013-07-17">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DriveSyncer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/mazhar/android/notepad/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DriveSyncer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/mazhar/android/notepad/DriveSyncAdapter.html" title="class in com.mazhar.android.notepad"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/mazhar/android/notepad/DriveSyncService.html" title="class in com.mazhar.android.notepad"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/mazhar/android/notepad/DriveSyncer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DriveSyncer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.mazhar.android.notepad</FONT>
<BR>
Class DriveSyncer</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.mazhar.android.notepad.DriveSyncer</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DriveSyncer</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Holds logic for performing sync from Google Drive to the database using the
 provided user's credentials.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#ABOUT_GET_FIELDS">ABOUT_GET_FIELDS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Field query parameter used on request to the drive.about.get endpoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_DELETED">COLUMN_INDEX_DELETED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_FILE_ID">COLUMN_INDEX_FILE_ID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_ID">COLUMN_INDEX_ID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The index of the projection columns</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_MODIFICATION_DATE">COLUMN_INDEX_MODIFICATION_DATE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_NOTE">COLUMN_INDEX_NOTE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#COLUMN_INDEX_TITLE">COLUMN_INDEX_TITLE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;Account</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mAccount">mAccount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;Context</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mContext">mContext</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mLargestChangeId">mLargestChangeId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;ContentProviderClient</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mProvider">mProvider</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;com.google.api.services.drive.Drive</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mService">mService</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#PROJECTION">PROJECTION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Projection used for querying the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#TAG">TAG</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For logging and debugging purposes</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#TEXT_PLAIN">TEXT_PLAIN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text/plain MIME type.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#DriveSyncer(Context, ContentProviderClient, Account)">DriveSyncer</A></B>(Context&nbsp;context,
            ContentProviderClient&nbsp;provider,
            Account&nbsp;account)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiate a new DriveSyncer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map&lt;java.lang.String,com.google.api.services.drive.model.File&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getChangedFiles(long)">getChangedFiles</A></B>(long&nbsp;changeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a collection of files that have changed since the provided
 <code>changeId</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;com.google.api.services.drive.Drive</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getDriveService()">getDriveService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a authorized service object to send requests to the Google Drive
 API.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getFileContent(com.google.api.services.drive.model.File)">getFileContent</A></B>(com.google.api.services.drive.model.File&nbsp;driveFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a Google Drive file's content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;Uri</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getFileUri(java.lang.String, java.lang.String)">getFileUri</A></B>(java.lang.String&nbsp;accountName,
           java.lang.String&nbsp;fileId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getLargestChangeId()">getLargestChangeId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve the largest change ID for the current user if available.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;Uri</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getNotesUri(java.lang.String)">getNotesUri</A></B>(java.lang.String&nbsp;accountName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;Uri</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#getNoteUri(java.lang.String, java.lang.String)">getNoteUri</A></B>(java.lang.String&nbsp;accountName,
           java.lang.String&nbsp;noteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#insertNewDriveFiles(java.util.Collection)">insertNewDriveFiles</A></B>(java.util.Collection&lt;com.google.api.services.drive.model.File&gt;&nbsp;driveFiles)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert new Google Drive files in the local database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#insertNewLocalFiles()">insertNewLocalFiles</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert all new local files in Google Drive.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#md5(java.lang.String)">md5</A></B>(java.lang.String&nbsp;string)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute the MD5 checksum of the provided string data from <a
 href="http://stackoverflow.com/a/304350/1106381"
 >http://stackoverflow.com/a/304350/1106381</a>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#mergeFiles(Uri, Cursor, com.google.api.services.drive.model.File)">mergeFiles</A></B>(Uri&nbsp;localFileUri,
           Cursor&nbsp;localFile,
           com.google.api.services.drive.model.File&nbsp;driveFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Merge a local file with a Google Drive File.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#performFullSync()">performFullSync</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs a full sync, usually occurs the first time a sync occurs for the
 account.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#performSync()">performSync</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform a synchronization for the current account.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#storeAllDriveFiles()">storeAllDriveFiles</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store all text/plain files from Drive that the app has access to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/mazhar/android/notepad/DriveSyncer.html#storeLargestChangeId(long)">storeLargestChangeId</A></B>(long&nbsp;changeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store the largest change ID for the current user.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TAG"><!-- --></A><H3>
TAG</H3>
<PRE>
private static final java.lang.String <B>TAG</B></PRE>
<DL>
<DD>For logging and debugging purposes
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.TAG">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROJECTION"><!-- --></A><H3>
PROJECTION</H3>
<PRE>
private static final java.lang.String[] <B>PROJECTION</B></PRE>
<DL>
<DD>Projection used for querying the database.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_ID"><!-- --></A><H3>
COLUMN_INDEX_ID</H3>
<PRE>
private static final int <B>COLUMN_INDEX_ID</B></PRE>
<DL>
<DD>The index of the projection columns
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_ID">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_TITLE"><!-- --></A><H3>
COLUMN_INDEX_TITLE</H3>
<PRE>
private static final int <B>COLUMN_INDEX_TITLE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_TITLE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_NOTE"><!-- --></A><H3>
COLUMN_INDEX_NOTE</H3>
<PRE>
private static final int <B>COLUMN_INDEX_NOTE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_NOTE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_MODIFICATION_DATE"><!-- --></A><H3>
COLUMN_INDEX_MODIFICATION_DATE</H3>
<PRE>
private static final int <B>COLUMN_INDEX_MODIFICATION_DATE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_MODIFICATION_DATE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_FILE_ID"><!-- --></A><H3>
COLUMN_INDEX_FILE_ID</H3>
<PRE>
private static final int <B>COLUMN_INDEX_FILE_ID</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_FILE_ID">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COLUMN_INDEX_DELETED"><!-- --></A><H3>
COLUMN_INDEX_DELETED</H3>
<PRE>
private static final int <B>COLUMN_INDEX_DELETED</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.COLUMN_INDEX_DELETED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ABOUT_GET_FIELDS"><!-- --></A><H3>
ABOUT_GET_FIELDS</H3>
<PRE>
private static final java.lang.String <B>ABOUT_GET_FIELDS</B></PRE>
<DL>
<DD>Field query parameter used on request to the drive.about.get endpoint.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.ABOUT_GET_FIELDS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TEXT_PLAIN"><!-- --></A><H3>
TEXT_PLAIN</H3>
<PRE>
private static final java.lang.String <B>TEXT_PLAIN</B></PRE>
<DL>
<DD>text/plain MIME type.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.mazhar.android.notepad.DriveSyncer.TEXT_PLAIN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mContext"><!-- --></A><H3>
mContext</H3>
<PRE>
private final Context <B>mContext</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mProvider"><!-- --></A><H3>
mProvider</H3>
<PRE>
private final ContentProviderClient <B>mProvider</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mAccount"><!-- --></A><H3>
mAccount</H3>
<PRE>
private final Account <B>mAccount</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mService"><!-- --></A><H3>
mService</H3>
<PRE>
private com.google.api.services.drive.Drive <B>mService</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mLargestChangeId"><!-- --></A><H3>
mLargestChangeId</H3>
<PRE>
private long <B>mLargestChangeId</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DriveSyncer(Context, ContentProviderClient, Account)"><!-- --></A><H3>
DriveSyncer</H3>
<PRE>
public <B>DriveSyncer</B>(Context&nbsp;context,
                   ContentProviderClient&nbsp;provider,
                   Account&nbsp;account)</PRE>
<DL>
<DD>Instantiate a new DriveSyncer.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - Context to use on credential requests.<DD><CODE>provider</CODE> - Provider to use for database requests.<DD><CODE>account</CODE> - Account to perform sync for.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="performSync()"><!-- --></A><H3>
performSync</H3>
<PRE>
public void <B>performSync</B>()</PRE>
<DL>
<DD>Perform a synchronization for the current account.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mergeFiles(Uri, Cursor, com.google.api.services.drive.model.File)"><!-- --></A><H3>
mergeFiles</H3>
<PRE>
private void <B>mergeFiles</B>(Uri&nbsp;localFileUri,
                        Cursor&nbsp;localFile,
                        com.google.api.services.drive.model.File&nbsp;driveFile)</PRE>
<DL>
<DD>Merge a local file with a Google Drive File.
 
 The last modification is used to check which file to sync from. Then, the
 md5 checksum of the file is used to check whether or not the file's
 content should be sync'ed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>localFileUri</CODE> - Local file URI to save local changes against.<DD><CODE>localFile</CODE> - Local file cursor to retrieve data from.<DD><CODE>driveFile</CODE> - Google Drive file.</DL>
</DD>
</DL>
<HR>

<A NAME="insertNewLocalFiles()"><!-- --></A><H3>
insertNewLocalFiles</H3>
<PRE>
private void <B>insertNewLocalFiles</B>()</PRE>
<DL>
<DD>Insert all new local files in Google Drive.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="insertNewDriveFiles(java.util.Collection)"><!-- --></A><H3>
insertNewDriveFiles</H3>
<PRE>
private void <B>insertNewDriveFiles</B>(java.util.Collection&lt;com.google.api.services.drive.model.File&gt;&nbsp;driveFiles)</PRE>
<DL>
<DD>Insert new Google Drive files in the local database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>driveFiles</CODE> - Collection of Google Drive files to insert.</DL>
</DD>
</DL>
<HR>

<A NAME="getFileContent(com.google.api.services.drive.model.File)"><!-- --></A><H3>
getFileContent</H3>
<PRE>
public java.lang.String <B>getFileContent</B>(com.google.api.services.drive.model.File&nbsp;driveFile)</PRE>
<DL>
<DD>Retrieve a Google Drive file's content.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>driveFile</CODE> - Google Drive file to retrieve content from.
<DT><B>Returns:</B><DD>Google Drive file's content if successful, <code>null</code>
         otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getDriveService()"><!-- --></A><H3>
getDriveService</H3>
<PRE>
private com.google.api.services.drive.Drive <B>getDriveService</B>()</PRE>
<DL>
<DD>Retrieve a authorized service object to send requests to the Google Drive
 API. On failure to retrieve an access token, a notification is sent to
 the user requesting that authorization be granted for the
 <code>https://www.googleapis.com/auth/drive.file</code> scope.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>An authorized service object.</DL>
</DD>
</DL>
<HR>

<A NAME="performFullSync()"><!-- --></A><H3>
performFullSync</H3>
<PRE>
private void <B>performFullSync</B>()</PRE>
<DL>
<DD>Performs a full sync, usually occurs the first time a sync occurs for the
 account.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="storeAllDriveFiles()"><!-- --></A><H3>
storeAllDriveFiles</H3>
<PRE>
private void <B>storeAllDriveFiles</B>()</PRE>
<DL>
<DD>Store all text/plain files from Drive that the app has access to. This is
 called the first time the app synchronize the database with Google Drive
 for the current user.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getChangedFiles(long)"><!-- --></A><H3>
getChangedFiles</H3>
<PRE>
private java.util.Map&lt;java.lang.String,com.google.api.services.drive.model.File&gt; <B>getChangedFiles</B>(long&nbsp;changeId)</PRE>
<DL>
<DD>Retrieve a collection of files that have changed since the provided
 <code>changeId</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changeId</CODE> - Change ID to retrieve changed files from.
<DT><B>Returns:</B><DD>Map of changed files key'ed by their file ID.</DL>
</DD>
</DL>
<HR>

<A NAME="getLargestChangeId()"><!-- --></A><H3>
getLargestChangeId</H3>
<PRE>
private long <B>getLargestChangeId</B>()</PRE>
<DL>
<DD>Retrieve the largest change ID for the current user if available.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The largest change ID, <code>-1</code> if not available.</DL>
</DD>
</DL>
<HR>

<A NAME="storeLargestChangeId(long)"><!-- --></A><H3>
storeLargestChangeId</H3>
<PRE>
private void <B>storeLargestChangeId</B>(long&nbsp;changeId)</PRE>
<DL>
<DD>Store the largest change ID for the current user.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changeId</CODE> - The largest change ID to store.</DL>
</DD>
</DL>
<HR>

<A NAME="md5(java.lang.String)"><!-- --></A><H3>
md5</H3>
<PRE>
public static java.lang.String <B>md5</B>(java.lang.String&nbsp;string)</PRE>
<DL>
<DD>Compute the MD5 checksum of the provided string data from <a
 href="http://stackoverflow.com/a/304350/1106381"
 >http://stackoverflow.com/a/304350/1106381</a>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>string</CODE> - Data to compute the MD5 checksum from.
<DT><B>Returns:</B><DD>The MD5 checksum as string.</DL>
</DD>
</DL>
<HR>

<A NAME="getNotesUri(java.lang.String)"><!-- --></A><H3>
getNotesUri</H3>
<PRE>
private static Uri <B>getNotesUri</B>(java.lang.String&nbsp;accountName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNoteUri(java.lang.String, java.lang.String)"><!-- --></A><H3>
getNoteUri</H3>
<PRE>
private static Uri <B>getNoteUri</B>(java.lang.String&nbsp;accountName,
                              java.lang.String&nbsp;noteId)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getFileUri(java.lang.String, java.lang.String)"><!-- --></A><H3>
getFileUri</H3>
<PRE>
private static Uri <B>getFileUri</B>(java.lang.String&nbsp;accountName,
                              java.lang.String&nbsp;fileId)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/mazhar/android/notepad/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DriveSyncer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/mazhar/android/notepad/DriveSyncAdapter.html" title="class in com.mazhar.android.notepad"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/mazhar/android/notepad/DriveSyncService.html" title="class in com.mazhar.android.notepad"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/mazhar/android/notepad/DriveSyncer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DriveSyncer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
